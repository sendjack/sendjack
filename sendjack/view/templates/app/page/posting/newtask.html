{# posting/newtask -- the new task page in the posting series. #}

{% extends "app/page/posting/base.html" %}

{% from "app/page/posting/base.html" import posting_section %}
{% from "app/page/posting/base.html" import computer_grid, signup_grid %}


{# The content section of the posting new task page. #}
{% block content %}
    <div class="posting-content">
        {{ newtask_section(computer_grid() + newtask_grid()) }}
    </div>
{% endblock content %}


{% macro newtask_section(el, classes=[]) %}
    {% set my_classes = classes + ["newtask-section"] %}

    {{ posting_section(el, my_classes) }}
{% endmacro %}


{% macro newtask_grid() %}
    {% set my_classes = ["newtask-grid"] %}

    {{ posting_grid(newtask_el(), my_classes) }}
{% endmacro %}


{% macro newtask_el() %}
    <div class="newtask-title title"></div>
    {{ newtask_form() }}
{% endmacro %}


{% macro newtask_form() %}
    <form action="/posting/newtask/submit" class="newtask-form" method="POST">
        <input
            type="text"
            class="task-title"
            name="task-title"
            placeholder="Task Title" />
        <textarea
            class="task-description"
            name="task-description"
            placeholder="Enter your Task Description"
            rows=5></textarea>
        <input
            type="text"
            class="task-deadline"
            name="task-deadline"
            placeholder="Monday, January 28, 2013" />

        <button type="submit">
            Post Task 
        </button>
    </form>
{% endmacro %}
